<!DOCTYPE html>
<html>
<head>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>

    <title>Topic 4</title>
    <style>
        .hidden {
            display: none;
        }
        .button-container {
            display: flex;
            flex-direction: column;
        }
        .button-container button {
            margin-bottom: 5px;
        }
    </style>
    <script>
        function toggleVisibility(id) {
            var element = document.getElementById(id);
            
            // Hide only the hidden paragraphs
            var hiddenParagraphs = document.getElementsByClassName('hidden');
            for (var i = 0; i < hiddenParagraphs.length; i++) {
                hiddenParagraphs[i].style.display = 'none';
            }
            
            // Show the selected paragraph
            element.style.display = 'block';
        }
    </script>
</head>
<body>
    <h1>Topic 3: Test Statistics</h1>
    <div>
        <p>In the previous section, we stated null and alternative hypotheses in terms of the population parameter <span class="mathjax">\(\mu\)</span>,
            but we never observe <span class="mathjax">\(\mu\)</span>. Instead, we use sample 
            data to construct estimates of the unknown parameter <span class="mathjax">\(\mu\)</span>.
            </p> 

            <p>
            Since we never observe <span class="mathjax">\(\mu\)</span>, it's not obvious how we should decide whether
            the sample data contains enough evidence in favor of <span class="mathjax">\(H_1\)</span> for us to reject <span class="mathjax">\(H_0\)</span>. 
            <b>Test statistics provide us with a systematic way of making this decision.</b>
            </p>

            <p>
                The most common test statistic is the t-statistic. The formula for the t-statistic for a sample average is given by 
                <span class="mathjax">$$t = \frac{\overline{X} - \mu}{s/\sqrt{N}} $$</span> where <span class="mathjax">\(\overline{X}\)</span> is 
                the sample average, <span class="mathjax">\(s\)</span> is the sample standard deviation, 
                <span class="mathjax">\(N\)</span> is the sample size, and <span class="mathjax">\(\mu\)</span> is the population average 
                <b>under the assumption that the null hypothesis is true</b>.
            </p>
            
            <p>
You should be familiar with the t-statistic from course lectures. 
Because of the Central Limit Theorem, we know that the t-statistic is approximately normally distributed when <span class="mathjax">\(N>30\)</span>.
This <b>crucial</b> result allows us to use sample data generated from <i>any</i> unknown distribution to form a test statistic with a known distribution (standard normal). 
All we need are 3 basic sample statistics: the sample average, the sample standard deviation, and the sample size! 
        </p> 
        <p>
            Because we know the distribution of a standard normal random variable, 
            we are able to make statements about the probability of our sample estimate occurring if 
            the null hypothesis is true. What exactly does that mean? We can use an example to clear things up. <b>Note:</b> This practice problem asks you to use R to perform a simulation. For reproducibility, you should use  <span class="mathjax"> \( set.seed(123) \)</span>
            to set a value for the random seed before beginning. <b>If you are confused, try asking ChatGPT before clicking the help button.</b>
        </p>

            <h3>Practice Problem</h3>
		
        <p>- A car manufacturer is deciding whether they should begin offering a new line of electric trucks. They decide that they will offer these new vehicles 
            as long as market research suggests that consumers are willing to offer more than <span class="mathjax">\(55,000\)</span> for the trucks. 
            The manufacturer's marketing team designs a survey to elicit willingness to pay from a set of representative consumers. Suppose that true willingness to pay is
            approximately normally distributed with mean <span class="mathjax">\(\mu = 51,000\)</span> and standard deviation  <span class="mathjax">\(\sigma = 9,000\)</span>.
            </p>
            <p>
            Using R, construct a random sample of 100 consumers and use these 100 observations to construct the t-statistic <i>under the assumption the null hypothesis is true</i>. 
            Now repeat this process 500 times and plot the distribution of t-statistics across all the iterations. Is the distribution approximately standard normal?
            </p>
    </div>

    <div class="button-container">
        <button onclick="toggleVisibility('paragraph0')">I don't know where to start</button>
    </div>
    
    <p id="paragraph0" class="hidden"> You should implement a <b>for</b> loop in R. In each iteration of the loop, draw 100 normally 
        distributed random variables at once using the <i>rnorm()</i> command. In the same loop iteration, take the average of these 100 random variables and construct 
        a t-statistic using the formula provided on this page (<b>hint:</b> when the null hypothesis is true, <span class="mathjax">\(\mu = 55,000\)</span>). 
        To make the resulting plot, you can use base R or the <i>ggplot</i> library. If 
    you have trouble implementing this method, don't worry - ChatGPT is quite good at it!</p>


<div class="button-container">
    <button onclick="toggleVisibility('paragraph5')">Click when finished</button>
</div>

<p id="paragraph5" class="hidden"> You should have found that the t-statistic has a distribution that is approximately standard normal. In the next conceptual section, we will use this fact to develop
    some intuition about p-values.</p>
    <div>
		<button onclick="openPreviousPage()">Back to Problem: Stating Hypotheses</button>
		<script>
			function openPreviousPage() {
				window.location.href = "part3.html";
			}
		</script>
	</div>

	<div>
		<button onclick="openNewPage()">Next Conceptual Topic: The p-value</button>
		<script>
			function openNewPage() {
				window.location.href = "part5.html";
			}
		</script>
	</div>
	
	<script>
        MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementsByClassName("mathjax")]);
      </script>
      
</body>
</html>
