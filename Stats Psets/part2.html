<!DOCTYPE html>
<html>
<head>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>

    <title>Topic 2</title>
    <style>
        .hidden {
            display: none;
        }
        .button-container {
            display: flex;
            flex-direction: column;
        }
        .button-container button {
            margin-bottom: 5px;
        }
    </style>
    <script>
        function toggleVisibility(id) {
            var element = document.getElementById(id);
            
            // Hide only the hidden paragraphs
            var hiddenParagraphs = document.getElementsByClassName('hidden');
            for (var i = 0; i < hiddenParagraphs.length; i++) {
                hiddenParagraphs[i].style.display = 'none';
            }
            
            // Show the selected paragraph
            element.style.display = 'block';
        }
    </script>
</head>
<body>
    <h1>Topic 2: Confidence Intervals</h1>
    <div>
        <p>Sample estimates of population parameters like the true average can be very 
            different across random samples from the same population. For example, with a fair die
            we might collect two samples given by {1, 1, 1} and {1, 6, 1, 3, 1, 1, 5, 4, 4, 6}.
            </p> 
            
            <p>The sample average in the first sample is 1, while the sample average in the 
            second sample is 3.2. Given this wide variability, 
            how should we communicate the uncertainty in each sample estimate? 
        </p> 
        <p>
            The most common way is by reporting something known as a <b>confidence interval</b>.
        </p>
        <p>
            A confidence interval is a random interval centered around a sample estimate of a population parameter. You learned the 
            formula for a 95% confidence interval in lecture. For a population average μ, the 95% confidence interval is given by 
            <span class="mathjax">$$CI = [\overline{X}-1.96\times\frac{s}{\sqrt{N}}, \overline{X}+1.96\times\frac{s}{\sqrt{N}}]$$</span>
            where <span class="mathjax">\(\overline{X}\)</span> is the sample average, <span class="mathjax">\(s\)</span> is the sample standard deviation, 
            and <span class="mathjax">\(N\)</span> is the sample size.
        </p>

        <p>
             
            </p>
            There are three common confusions with the interpretation of confidence intervals:
            
            <p>
            1. Thinking that a 95% confidence interval is the region that contains 95% of the values in a sample. 
            </p>
            <p>
                2. Thinking that a 95% confidence interval is the region that contains 95% of the sample averages for different samples from the same data generating process
                </p>
                <p>
                    3. Thinking that the probability that the population parameter lies within a confidence interval is 0.95.
                    </p>

            <p>
            We will clarify what is meant by the first two in the next practice problem.
            </p>

            <h3>Practice Problem 2</h3>
		
        <p>- Using 1 of the 100 samples from Practice Problem 1,
            construct a 95% confidence interval in R for the sample estimate of the population average earnings among Nashville adults. 
            Does the confidence interval contain 95% of the observations in this sample? What about 95% of the sample averages of earnings from all samples?
            </p>
            <p>
            <i>Note:</i> For reproducibility, you should set a value for the random seed before beginning. If you are confused, please use ChatGPT to help.
            </p>
    </div>

    <div class="button-container">
        <button onclick="toggleVisibility('paragraph1')">Click after completing Practice Problem 2</button>
    </div>

    <p id="paragraph1" class="hidden">As shown in Practice Problem 2, a 95% confidence interval does 
        not contain 95% of observations in a sample or 95% of the sample averages across different samples. 
        But it is still possible that the probability that the population average is within any given single confidence interval is 95%. 
        We will now show that this is not the case by construction. Instead, we will show that as the number of samples grows large, we should 
        expect 95% of the individual confidence intervals constructed from these samples to contain the true population parameter that we are estimating. 
        We will verify this in the next practice problem.</p>

    <h3>Practice Problem 3</h3>
		
    <p>- Construct 95% confidence intervals for the true average for each of the 100 random samples from Practice Problem 1. 
        Construct another vector that lists the number of the random sample from 1-100. Then make a plot in R containing the sample number 
        on the x-axis and the confidence interval for that sample on the y-axis. 
        Include a horizontal line for the true average of μ= 150,000. How many of the confidence intervals contain μ?
        </p>
        <p>
        <i>Note:</i> For reproducibility, you should set a value for the random seed before beginning. If you are confused, please use ChatGPT to help.
        </p>
</div>

<div class="button-container">
    <button onclick="toggleVisibility('paragraph2')">Click after completing Practice Problem 3</button>
</div>

<p id="paragraph2" class="hidden">Hopefully you're feeling a bit more <i>confident</i> that the confidence interval is a random interval constructed using a sample estimate of a population parameter
    that uses data from a single sample. For a 95% confidence interval, we have shown that 95% of these random intervals will contain a population parameter as the number of samples grows sufficiently large.</p>

    <div>
		<button onclick="openPreviousPage()">Previous Topic: Population Parameters and Sample Estimates</button>
		<script>
			function openPreviousPage() {
				window.location.href = "part1.html";
			}
		</script>
	</div>

	<div>
		<button onclick="openNewPage()">Next Topic: Null and Alternative Hypotheses</button>
		<script>
			function openNewPage() {
				window.location.href = "part3.html";
			}
		</script>
	</div>
	
	<script>
        MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementsByClassName("mathjax")]);
      </script>
      
</body>
</html>
